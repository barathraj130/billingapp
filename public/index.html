<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>JBS Knit Wear — Billing</title>
<style>
:root{
  --bg:#f4f7fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#1d6fff;
  --radius:12px;
  --sidebar-w:240px;
  --panel-w:380px;
  --container-max:1200px;
  --shadow:0 12px 30px rgba(20,30,40,0.06);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:#111;min-height:100vh;}

/* Sidebar */
.sidebar{
  position:fixed;left:0;top:0;bottom:0;width:var(--sidebar-w);
  background:var(--card);padding:20px;border-right:1px solid #eef3f8;
  box-shadow:var(--shadow);overflow:auto;
}
.brand{font-weight:900;font-size:18px;margin-bottom:12px;}
.menu a{display:block;padding:10px 12px;border-radius:10px;color:#111;text-decoration:none;margin-bottom:6px;}
.menu a .hint{display:block;color:var(--muted);font-size:13px;margin-top:4px;}
.menu a.active{background:#f3f9ff;border-left:4px solid var(--accent);color:var(--accent);}
.tip{color:var(--muted);font-size:13px;margin-top:12px;}

/* Header */
.header{
  margin-left:var(--sidebar-w);padding:14px 20px;display:flex;align-items:center;gap:10px;
  position:sticky;top:0;background:transparent;z-index:5;
}
.header .title{font-weight:800;font-size:20px;}
.header-right{margin-left:auto;display:flex;align-items:center;gap:10px;}
.input{height:40px;padding:8px 10px;border:1px solid #dbe3ef;border-radius:8px;}
.btn{padding:9px 14px;border-radius:8px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer;}
.btn.ghost{background:#fff;border:1px solid #e5ebf5;color:#111}

/* Layout */
.wrapper{margin-left:var(--sidebar-w);padding:20px;display:flex;justify-content:flex-start;}
.container{
  display:grid;width:100%;max-width:var(--container-max);
  grid-template-columns:1fr var(--panel-w);column-gap:28px;align-items:start;
}
.content{max-width:820px;}
.panel{
  /* right column container */
  min-width: 0;         /* prevents overflow inside grid */
  display: block;
}


/* Cards */
.card{background:var(--card);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);margin-bottom:16px;}
.h1{font-size:24px;font-weight:800;margin-bottom:6px;}
.h2{font-size:18px;font-weight:700;margin-bottom:8px;}
.stat-group{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;}
.stat{flex:1 1 150px;background:#fff;border:1px solid #eef3f8;border-radius:10px;padding:10px;}
.stat .label{color:var(--muted);font-size:13px;}
.stat .value{font-weight:800;font-size:20px;margin-top:4px;}
.table-wrap{margin-top:10px;overflow:auto;}
.table-wrap table{width:100%;border-collapse:collapse;}
.table-wrap th, .table-wrap td{padding:10px;border-bottom:1px solid #eef3f8;text-align:left;}
.table-wrap th{background:#f9fbff;font-weight:700;}
.table-wrap td:last-child{text-align:right;}

/* Invoice items */
.items{display:flex;flex-direction:column;gap:10px;margin-top:12px;}
.item{
  display:grid;gap:8px;align-items:center;
  grid-template-columns:48px 1fr 76px 76px 64px 80px 36px;
  background:#fff;border:1px solid #eef3f8;border-radius:10px;padding:8px;
}
.item .sno{text-align:center;font-weight:700;}
.item input{height:34px;padding:6px;border-radius:6px;border:1px solid #e5ebf2;}
.remove button{background:#fff;border:1px solid #e5ebf2;padding:5px 7px;border-radius:6px;}

/* Totals */
.panel-footer{margin-top:10px;}
.totals{max-width:280px;margin-left:auto;}
.totals div{margin-top:6px;}
#subtotal,#grandTotal{font-weight:700;font-size:18px;}

/* Responsive */
@media(max-width:1000px){
  :root{--panel-w:340px}
}
@media(max-width:900px){
  .sidebar{left:-100%;position:fixed;transition:left .2s ease;}
  .sidebar.open{left:0;}
  .header{margin-left:0;}
  .wrapper{margin-left:0;padding:14px;}
  .container{grid-template-columns:1fr;gap:14px;}
  .panel{order:2;}
  .content{order:1;max-width:100%;}
  #hamb{display:inline-block;}
}
@media(max-width:480px){
  .stat-group{flex-direction:column;}
  .btn{padding:8px 10px;}
}
</style>
</head>
<body>
<div class="app">

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="brand">JBS KNIT WEAR — Billing</div>
    <nav class="menu">
      <a href="#" data-view="dashboard" class="active"><strong>Dashboard</strong><span class="hint">Quick totals & recent</span></a>
      <a href="#" data-view="transactions"><strong>Transactions</strong><span class="hint">Income & expense quick add</span></a>
      <a href="#" data-view="create"><strong>Create Invoice</strong><span class="hint">Add products & save</span></a>
      <a href="#" data-view="invoices"><strong>Invoices</strong><span class="hint">Saved invoices list</span></a>
      <a href="#" data-view="print"><strong>Printable template</strong><span class="hint">View / print invoice</span></a>
    </nav>
    <div class="tip">Tip: Save then Print from the invoice view.</div>
  </aside>

  <!-- Header -->
  <header class="header">
    <button id="hamb" class="btn ghost" style="display:none;">☰</button>
    <div class="title">Billing Dashboard</div>
    <div class="header-right">
      <div style="font-size:13px;color:var(--muted)">Opening balance (today)</div>
      <input id="opening" class="input" type="number" placeholder="0.00" style="width:100px">
      <button id="setOpening" class="btn">Set</button>
      <button id="clearOpening" class="btn ghost">Clear</button>
    </div>
  </header>

  <!-- Main -->
  <div class="wrapper">
    <div class="container">

      <!-- Left content -->
      <main class="content">

        <section id="view-dashboard" class="card">
          <h1 class="h1">Billing Dashboard</h1>
          <div style="color:var(--muted);margin-bottom:8px;">Quick overview of today's totals and recent activity</div>
          <div class="stat-group">
            <div class="stat"><div class="label">Total Income</div><div id="totalIncome" class="value">₹0.00</div></div>
            <div class="stat"><div class="label">Total Expense</div><div id="totalExpense" class="value">₹0.00</div></div>
            <div class="stat"><div class="label">Profit</div><div id="profitVal" class="value">₹0.00</div></div>
          </div>
          <div class="card" style="margin-top:16px;">
            <h2 class="h2">Recent transactions</h2>
            <div class="table-wrap"><table><thead><tr><th>Date</th><th>Type</th><th>Category</th><th>Amount</th></tr></thead><tbody id="recentTbody"></tbody></table></div>
          </div>
        </section>

        <section id="view-transactions" class="card" style="display:none;">
          <h2 class="h2">Add Transaction</h2>
          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <select id="txType" class="input"><option value="income">Income</option><option value="expense">Expense</option></select>
            <input id="txCat" class="input" placeholder="Category">
            <input id="txAmount" class="input" type="number" placeholder="Amount">
            <input id="txDate" class="input" type="date">
            <input id="txRef" class="input" placeholder="Reference">
            <button id="txSave" class="btn">Save</button>
          </div>
        </section>

        <section id="view-invoices" class="card" style="display:none;">
          <h2 class="h2">Invoices</h2>
          <div style="display:flex;gap:8px;align-items:center;">
            <input id="searchInv" class="input" placeholder="Search invoice">
            <button id="refreshInv" class="btn ghost">Refresh</button>
          </div>
          <div class="table-wrap" style="margin-top:10px;">
            <table><thead><tr><th>ID</th><th>No</th><th>Date</th><th>Customer</th><th>Total</th><th>Action</th></tr></thead><tbody id="invoicesTbody"></tbody></table>
          </div>
        </section>

        <section id="view-print" class="card" style="display:none;">
          <h2 class="h2">Printable</h2>
          <div style="display:flex;gap:8px;">
            <input id="printId" class="input" placeholder="Invoice id" style="width:140px;">
            <button id="openPrint" class="btn">Open</button>
          </div>
        </section>

      </main>

      <!-- Right panel -->
      <aside class="panel">
        <section id="view-create" class="card">
          <h2 class="h2">Create Invoice</h2>
          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <input id="invNo" class="input" placeholder="Invoice no (auto)" style="width:120px;">
            <input id="invDate" class="input" type="date" style="width:150px;">
            <input id="invCustomer" class="input" placeholder="Customer name" style="flex:1;">
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px;">
            <div style="color:var(--muted)">Products</div>
            <div style="display:flex;gap:8px;">
              <button id="addItem" class="btn">+ Add</button>
              <button id="clearItems" class="btn ghost">Clear</button>
              <button id="recalc" class="btn ghost">Recalc</button>
            </div>
          </div>

          <div id="items" class="items"></div>

          <div class="panel-footer">
            <div class="totals">
              <div style="display:flex;justify-content:space-between;"><span>Subtotal</span><span id="subtotal">0.00</span></div>
              <div style="display:flex;align-items:center;gap:6px;"><label>Tax %</label><input id="taxPerc" class="input" type="number" value="0" style="width:70px;"></div>
              <div style="display:flex;justify-content:space-between;margin-top:6px;font-weight:800;"><span>Total</span><span id="grandTotal">0.00</span></div>
              <div style="display:flex;gap:8px;margin-top:10px;">
                <button id="saveInvoice" class="btn">Save</button>
                <button id="openPrintable" class="btn ghost">Print</button>
                <div id="saveMsg" style="align-self:center;color:var(--muted);font-size:13px;"></div>
              </div>
            </div>
          </div>
        </section>
      </aside>

    </div>
  </div>
</div>

<script>
/* Navigation */
const views=['dashboard','transactions','create','invoices','print'];
function show(v){
  views.forEach(e=>{document.getElementById('view-'+e).style.display=(v===e)?'':'none'});
  document.querySelectorAll('.menu a').forEach(a=>a.classList.remove('active'));
  document.querySelector('.menu a[data-view="'+v+'"]').classList.add('active');
  if(v==='dashboard') loadDashboard(); if(v==='invoices') loadInvoices();
}
document.querySelectorAll('.menu a').forEach(a=>a.addEventListener('click',e=>{
  e.preventDefault();show(a.dataset.view);if(window.innerWidth<900)toggleSidebar(false);
}));
const sidebar=document.getElementById('sidebar');
const hamb=document.getElementById('hamb');
function toggleSidebar(open){sidebar.classList.toggle('open',open);}
hamb.addEventListener('click',()=>toggleSidebar(!sidebar.classList.contains('open')));
window.addEventListener('resize',()=>{
  hamb.style.display=window.innerWidth<900?'inline-block':'none';
  if(window.innerWidth>=900)sidebar.classList.remove('open');
});
show('dashboard');

/* Simple data (replace with API calls) */
function loadDashboard(){
  document.getElementById('totalIncome').textContent='₹0.00';
  document.getElementById('totalExpense').textContent='₹0.00';
  document.getElementById('profitVal').textContent='₹0.00';
}

/* Items */
const itemsEl=document.getElementById('items');
function makeItem(i){
  const div=document.createElement('div');
  div.className='item';
  div.innerHTML=`
  <div class="sno">${i+1}</div>
  <input type="text" class="desc" placeholder="Product">
  <input type="number" class="qty" placeholder="Qty">
  <input type="number" class="rate" placeholder="Rate">
  <input type="number" class="disc" placeholder="Disc%">
  <input type="number" class="amt" placeholder="Amount">
  <div class="remove"><button>x</button></div>`;
  div.querySelector('.remove button').onclick=()=>{div.remove();reindex();};
  itemsEl.appendChild(div);
}
function reindex(){Array.from(itemsEl.children).forEach((r,i)=>r.querySelector('.sno').textContent=i+1);}
document.getElementById('addItem').onclick=()=>makeItem(itemsEl.children.length);
document.getElementById('clearItems').onclick=()=>itemsEl.innerHTML='';
for(let i=0;i<4;i++)makeItem(i);
</script>
</body>
</html>
